<!-- Chunk Selection Dropdown -->
<div *ngIf="chunks.length > 0" class="chunk-dropdown-card">
  <label for="chunkSelect" class="chunk-label">📌 Select a Chunk</label>
  <select id="chunkSelect" [(ngModel)]="selectedChunk" class="chunk-select">
    <option *ngFor="let chunk of chunks" [value]="chunk.index">
      Chunk {{ chunk.index + 1 }}: {{ chunk.text ? (chunk.text | slice: 0: 80) : 'Empty chunk' }}...
    </option>
  </select>
</div>

<!-- Selected Chunk Preview -->
<div *ngIf="selectedChunk !== null" class="chunk-preview-card">
  <h4>📄 Selected Chunk Content</h4>
  <div class="chunk-text-box">{{ selectedChunkText }}</div>
</div>

<!-- Question Box -->
<div *ngIf="selectedChunk" class="qna-container">
  <label for="question" class="question-label">💬 Ask a Question</label>
  <textarea id="question" [(ngModel)]="question" rows="3"
            class="question-textarea"
            placeholder="Type your question about the selected chunk here..."></textarea>
  <button (click)="submit()" class="ask-button" [disabled]="!question.trim()">Ask</button>
</div>

<!-- Answer -->
<div *ngIf="loading" class="loading-spinner">⏳ Thinking...</div>

<div *ngIf="answer" class="answer-box">
  🧠 <b>Answer:</b> {{ answer }}
</div>
